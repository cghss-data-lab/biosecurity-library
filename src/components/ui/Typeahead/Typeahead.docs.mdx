---
description: 'A typeahead single or multiselect component with fuzzy search.'
labels: ['search', 'filter', 'selection']
---

import Typeahead from './'

## React Component for rendering a single or multiple selection control

Takes an array of items, which must have "key" and "label" properties, but can have
any additional properties as necessary, and allows the user to search through and
select them. The control can be used with just the mouse, just the keyboard, or a
combination of the two.

## Component usage

Simple usage example of multiple select component. This component is designed to work
in different situations with different state management (useState or useReducer, for
example), so the parent component is expected to set that up.

Modify the placeholder text, add items, or add other props to see changes live:

```js live
// prettier-ignore
() => {
  const exampleItems = [
    { key: '1', label: 'item one' },
    { key: '2', label: 'item two' },
    { key: '3', label: 'another item' },
  ]

  const [selected, setSelected] = React.useState([])
  const selectedKeys = selected.map(i => i.key)
  const unselected = exampleItems.filter(i => !selectedKeys.includes(i.key))

  return (
    <Typeahead
      multiselect
      placeholder={`${selected.length} ${selected.length === 1 ? 'item' : 'items'} selected`}
      items={unselected}
      values={selected}
      onAdd={item => setSelected(prev => [...prev, item])}
      onRemove={item =>
        setSelected(prev => prev.filter(i => i.key !== item.key))
      }
      style={{ width: 300 }}
    />
  )
}
```

### Icon customization

The Typeahead can take a URI escaped SVG as an icon replacement; one easy way to get that is to use [this tool](https://yoksel.github.io/url-encoder/) and take the text from the "Take Encoded" box (second one).

That encoded string can be passed to the iconSVG prop:

```js
<Typeahead
  //...other props
  iconSVG="%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 9L12 15L18 9H6Z' fill='%23333333'/%3E%3C/svg%3E%0A"
/>
```

> Note: _The encoded string should always start with `%C3svg` and quotes must be single quotes._

The icon can be moved to the left side of the input box with the `iconLeft` boolean prop:

```js
<Typeahead
  //...other props
  iconLeft
/>
```

### Color Customization

#### Background Color

Customization of the background of both the input and the dropdown section, so it always appears to be one "control."

```js
<Typeahead
  //...other props
  backgroundColor={'slategray'}
/>
```

#### Border color

Customization of the border color everywhere; the dividing lines between selected and unselected will match at 33% opacity on top of the background color.

```js
<Typeahead
  //...other props
  borderColor={'darkslategray'}
/>
```

#### Font Colors

Customization of font color, the placeholder text will be the same color at 66% opacity.

The default `<TypeaheadResult/>` component will inherit this font color, but the result font color (or multiple font colors) can be changed separately using the `RenderItem={}` render prop.

```js
<Typeahead
  //...other props
  fontColor={'darkslategray'}
/>
```

## RenderItem prop

Everything about the way items are rendered can be changed by supplying a component to the `RenderItem` prop. This function will pass the current `item` object and a `selected` boolean as props.

This is how multiple item text colors, hover colors, different icons for the 'x' indicator, and formatting for using multiple item fields should be implemented.

### Default `<TypeaheadResult>` component

This component may be used as a boilerplate example and starting point for building custom components for the `RenderItem` render prop:

```js
import React from 'react'
import styled from 'styled-components'
import { RenderItemProps } from '.'

import removeSVG from './assets/remove.svg'

const TypeaheadResultContainer = styled.span<{ selected?: boolean }>`
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
  width: 100%;
  font-size: 16px;
  text-align: left;
  padding: 8px 12px;
  background-color: rgba(0, 50, 100, 0);
  transition: 150ms ease;
  ${({ selected }) => selected && ` font-weight: 800; `}

  &:hover {
    background-color: rgba(0, 50, 100, 0.08);
    ${({ selected }) => selected && `background-color: rgba(100, 0, 50, 0.08);`}
  }
`

const TypeaheadResult = ({ item: { label }, selected }: RenderItemProps) => (
  <TypeaheadResultContainer selected={selected}>
    {label}
    {selected && (
      <img src={removeSVG} style={{ flexShrink: 0 }} alt="Remove item" />
    )}
  </TypeaheadResultContainer>
)

export default TypeaheadResult
```
